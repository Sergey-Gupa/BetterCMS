@* --------------------------------------------------------------------------------------------------------------------
    // <copyright file="Index.cshtml" company="Devbridge Group LLC">
    //
    // Copyright (C) 2015,2016 Devbridge Group LLC
    //
    // This program is free software: you can redistribute it and/or modify
    // it under the terms of the GNU Lesser General Public License as published by
    // the Free Software Foundation, either version 3 of the License, or
    // (at your option) any later version.
    //
    // This program is distributed in the hope that it will be useful,
    // but WITHOUT ANY WARRANTY; without even the implied warranty of
    // MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    // GNU General Public License for more details.
    //
    // You should have received a copy of the GNU Lesser General Public License
    // along with this program.  If not, see http://www.gnu.org/licenses/.
    // </copyright>
    //
    // <summary>
    // Better CMS is a publishing focused and developer friendly .NET open source CMS.
    //
    // Website: https://www.bettercms.com
    // GitHub: https://github.com/devbridge/bettercms
    // Email: info@bettercms.com
    // </summary>
    // -------------------------------------------------------------------------------------------------------------------- *@
@model BetterCms.Sandbox.Mvc4.Models.SitemapMenuViewModel

<link href="~/Content/Widgets/Menu.css" rel="stylesheet" />

@helper MenuItem(IEnumerable<BetterCms.Sandbox.Mvc4.Models.MenuItemViewModel> menuItems)
{
if (menuItems != null)
{
    foreach (var item in menuItems)
    {
            <li>
                <a href="@item.Url">@item.Caption</a>
                @if (item.Children != null && item.Children.Any())
                {
                    <div class="menu-level-2">
                        <ul>
                            @MenuItem(item.Children)
                        </ul>
                    </div>
                }
            </li>
    }
}
}

@if (Model != null && Model.MenuItems != null)
{
    <div class="menu menu-level-1">
        <ul>
            @MenuItem(Model.MenuItems)
        </ul>
    </div>
}
